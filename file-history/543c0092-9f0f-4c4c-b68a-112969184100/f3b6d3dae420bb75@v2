---
namespace: epks
document:
  enabled: true
  name: epks-documentation-index
  tags: [dokumentace, epks, rozcestnÃ­k, index]
  version: v1.0.0
  created: 2025-09-29
---

# EPKS - DokumentaÄnÃ­ rozcestnÃ­k

VÃ­tejte v dokumentaci projektu **EPKS** (ElektronickÃ¡ pÅ™ihlÃ¡Å¡ka ke stravovÃ¡nÃ­).

## ğŸ“š ZÃ¡kladnÃ­ dokumenty

- [[readme]] - PÅ™ehled projektu, struktura, zÃ¡kladnÃ­ informace
- [[epks.namespace]] - Definice namespace a nastavenÃ­ projektu
- [[epks.package]] - Definice balÃ­Äku a zÃ¡vislostÃ­

## ğŸ—ï¸ Architektura a struktura

### Komponenty
Pro seznam vÅ¡ech komponent pouÅ¾ijte:
```bash
fd -I "component\.md$"
```

**Kategorie komponent:**
- **AdministraÄnÃ­ komponenty** - sprÃ¡va pÅ™ihlÃ¡Å¡ek, detail odpovÄ›dÃ­, tisk
  - [[epks.admin-response-detail]] - Detail jednÃ© pÅ™ihlÃ¡Å¡ky
  - [[epks.admin-responses-table]] - Tabulka vÅ¡ech pÅ™ihlÃ¡Å¡ek
  - [[epks.admin-settings]] - NastavenÃ­ formulÃ¡Å™e
  - [[epks.admin-print]] - Komponenta pro tisk

- **FormulÃ¡Å™ovÃ© komponenty** - hlavnÃ­ formulÃ¡Å™ a jeho ÄÃ¡sti
  - [[epks-main-form]] - HlavnÃ­ formulÃ¡Å™ pÅ™ihlÃ¡Å¡ky

- **InternÃ­ administrace** - centrÃ¡lnÃ­ sprÃ¡va jÃ­delen
  - [[canteens-admin]] - SprÃ¡va jÃ­delen
  - [[canteens-superadmin]] - Superadmin sprÃ¡va
  - [[epks.forms-admin]] - SprÃ¡va formulÃ¡Å™Å¯
  - [[epks.internal-canteen-responses]] - PÅ™ehled odpovÄ›dÃ­

- **ZÃ¡kladnÃ­ komponenty**
  - [[base-dialog]] - ZÃ¡kladnÃ­ dialogovÃ© okno
  - [[client-status]] - Status pÅ™ipojenÃ­ klientÅ¯
  - [[epks-base-page]] - ZÃ¡kladnÃ­ strÃ¡nka EPKS

### StrÃ¡nky
- [[epks-form]] - HlavnÃ­ formulÃ¡Å™ pÅ™ihlÃ¡Å¡ky (veÅ™ejnÃ¡ strÃ¡nka)
- [[epks-admin]] - Administrace jÃ­delny
- [[epks-interni-administrace]] - CentrÃ¡lnÃ­ administrace
- [[epks-login]] - PÅ™ihlaÅ¡ovacÃ­ strÃ¡nka
- [[epks-hp]] - Homepage
- [[cs.konfigurace-stojanu]] - Konfigurace kioskÅ¯

### Knihovny
- [[central-server.lib]] - Integrace s Central Serverem
- [[epks.lib]] - EPKS utility funkce
- [[parseUrl.lib]] - ParsovÃ¡nÃ­ URL parametrÅ¯

### Boot a inicializace
- [[epks.boot]] - Boot soubor pro inicializaci serveru, databÃ¡ze a Central Server pÅ™ipojenÃ­

## ğŸ“§ Email Å¡ablony

SystÃ©m obsahuje nÃ¡sledujÃ­cÃ­ email Å¡ablony v adresÃ¡Å™i `email-layouts/`:

- **dekujeme.email.md** - PodÄ›kovacÃ­ email po odeslÃ¡nÃ­ pÅ™ihlÃ¡Å¡ky
- **prihlaseni.email.md** - PÅ™ihlaÅ¡ovacÃ­ email s Ãºdaji
- **udajekprihlaseni.email.md** - Email s Ãºdaji k pÅ™ihlÃ¡Å¡enÃ­ pro stravnÃ­ka
- **zadostoopravu.email.md** - Email s Å¾Ã¡dostÃ­ o opravu ÃºdajÅ¯

## ğŸ—„ï¸ DatabÃ¡ze

### EPKS databÃ¡ze
```
Host: devel.altisima.cz
Port: 10196
Database: epks-dev
Schema: public
```

### Aktualizace databÃ¡ze
```
Host: devel.altisima.cz
Port: 10096
Database: aktserver-dev
Schema: public
```

DatabÃ¡zovÃ¡ pÅ™ipojenÃ­ jsou inicializovÃ¡na v [[epks.boot]].

## ğŸ”— Integrace

### Central Server
EPKS je integrovÃ¡n s **Central Server** pro:
- Real-time Socket.IO komunikace
- SprÃ¡vu pÅ™ipojenÃ½ch klientÅ¯
- CentrÃ¡lnÃ­ autentizaci
- Remote restart funkcionalitu

**VÃ­ce informacÃ­:** [[central-server.lib]]

## ğŸ› ï¸ TechnickÃ¡ dokumentace

### ENT Framework
- [[ENT-AGENT-GUIDE.book]] - KompletnÃ­ prÅ¯vodce tvorbou ENT objektÅ¯
- [[ent.index]] - ENT Framework zÃ¡kladnÃ­ koncepce
- [[vault-mapping.index]] - Struktura vault projektÅ¯

### Routing
- VeÅ™ejnÃ© strÃ¡nky pouÅ¾Ã­vajÃ­ `publicRoute` prefix (napÅ™. `/prihlaska/*`)
- AdministraÄnÃ­ strÃ¡nky pouÅ¾Ã­vajÃ­ `/pages/epks/*` prefix

### Layout
- [[Layout]] - HlavnÃ­ layout komponenta
- [[index.epks.html]] - HTML template

## ğŸ“ SpecifickÃ¡ dokumentace

- [[jak se generuje url na formulÃ¡Å™.doc]] - Dokumentace k URL generovÃ¡nÃ­ pro formulÃ¡Å™e

## ğŸ”„ Workflow a procesy

### Proces pÅ™ihlÃ¡Å¡ky stravnÃ­ka
1. RodiÄ otevÅ™e veÅ™ejnÃ½ formulÃ¡Å™ pÅ™es URL `/prihlaska/:canteen_slug/:slug_id`
2. VyplnÃ­ formulÃ¡Å™ s Ãºdaji dÃ­tÄ›te
3. FormulÃ¡Å™ se odeÅ¡le do databÃ¡ze
4. SystÃ©m odeÅ¡le potvrzovacÃ­ email
5. AdministrÃ¡tor jÃ­delny vidÃ­ pÅ™ihlÃ¡Å¡ku v administraci
6. AdministrÃ¡tor mÅ¯Å¾e pÅ™ihlÃ¡Å¡ku vytisknout nebo upravit

### Administrace pÅ™ihlÃ¡Å¡ek
1. AdministrÃ¡tor se pÅ™ihlÃ¡sÃ­ pÅ™es `/pages/epks/login`
2. V administraci vidÃ­ tabulku vÅ¡ech pÅ™ihlÃ¡Å¡ek pro svou jÃ­delnu
3. MÅ¯Å¾e zobrazit detail jednotlivÃ© pÅ™ihlÃ¡Å¡ky
4. MÅ¯Å¾e vytisknout formulÃ¡Å™
5. MÅ¯Å¾e upravit nastavenÃ­ formulÃ¡Å™e

### CentrÃ¡lnÃ­ administrace (superadmin)
1. Superadmin mÃ¡ pÅ™Ã­stup do `/pages/epks/interni-administrace`
2. VidÃ­ vÅ¡echny jÃ­delny a jejich pÅ™ihlÃ¡Å¡ky
3. MÅ¯Å¾e spravovat formulÃ¡Å™e napÅ™Ã­Ä jÃ­delnami
4. MÅ¯Å¾e konfigurovat kiosky/stojany

## ğŸ“Š Verze a changelog

**AktuÃ¡lnÃ­ verze:** v2.0.1

**PoslednÃ­ zmÄ›ny:**
- `f90e4dd4` - fix: path to libs (2025-09-09)
- Oprava cest k knihovnÃ¡m ve vÅ¡ech komponentÃ¡ch
- Aktualizace administraÄnÃ­ch komponent

## ğŸš€ Development

### Struktura projektu
```
epks/
â”œâ”€â”€ base/              # ZÃ¡kladnÃ­ komponenty
â”œâ”€â”€ boot/              # Boot soubory
â”œâ”€â”€ components/        # GlobÃ¡lnÃ­ komponenty
â”œâ”€â”€ email-layouts/     # Email Å¡ablony
â”œâ”€â”€ layout/            # Layout komponenty
â”œâ”€â”€ lib/               # Knihovny
â”œâ”€â”€ pages/             # StrÃ¡nky
â”œâ”€â”€ server/            # Server-side skripty
â””â”€â”€ doc/               # Dokumentace (tento adresÃ¡Å™)
```

### Git repozitÃ¡Å™
- **Remote:** git@github.com:altisima/epks-module.git
- **Branch:** develop
- **Stav:** clean (bez uncommited zmÄ›n)

### Environment
- **Local:** `ENT_ENV=local`
- **Production:** `ENT_ENV=production`

## ğŸ” HledÃ¡nÃ­ v projektu

### UÅ¾iteÄnÃ© pÅ™Ã­kazy
```bash
# Najdi vÅ¡echny komponenty
fd -I "component\.md$"

# Najdi vÅ¡echny strÃ¡nky
fd -I "page\.md$"

# Najdi vÅ¡echny knihovny
fd -I "lib\.md$"

# Najdi vÅ¡echny email Å¡ablony
fd -I "email\.md$"

# Hledej v obsahu souborÅ¯
rg "searchTerm" --type md
```

## ğŸ“ Kontakt a podpora

Pro otÃ¡zky a podporu kontaktujte tÃ½m Altisima.

---

*PoslednÃ­ aktualizace dokumentace: 2025-09-29*
*Dokumentaci udrÅ¾uje: Brain Documentation Keeper*